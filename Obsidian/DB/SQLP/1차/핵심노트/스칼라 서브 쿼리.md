- 서브 쿼리의 where절에 rownum ≤ 1을 추가해 주면 단일 컬럼을 유지할 수 있다

**스칼라 서브 쿼리 캐싱**

- 스칼라 서브 쿼리로 조인하면 오라클은 조인 횟수를 최소화하려고 입력 값과 출력 값을 내부 캐시에 저장해 놓는다
- 조인할 때마다 내부 캐시를 찾고 있으면 저장된 값을 반환함
- 값의 종류가 적을수록 효과적임

**두 개 이상의 값을 리턴 할 때**

- ordered와 뷰를 nl조인으로 유도하는 힌트(use_nl())을 사용한다
- 인라인 뷰 쿼리에 no_merge와 push_pred 힌트를 사용한다
- 기본적으로 nl조인을 하는데, 이는 캐싱 효과가 크지 않으면 비효율적일 수 있다.

**스칼라 서브 쿼리 Unnesting**

- 그래서 스칼라를 일반 조인문으로 쓸 때 Unnesting을 쓴다
- 스칼라를 Unnesting을 해서 일반 조인으로하면서 해시 조인하는 계획이 수립 될 수 있는데 이 때는 Group by가 들어가면서 부분처리가 불가능해지므로 no_unnest로 Unnesting을 방지해 준다